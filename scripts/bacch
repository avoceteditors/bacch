#!/usr/bin/env python3
# BSD License: See LICENSE file.

# Module Imports
import argparse
import sys
from bacch import core as bacch

# Main process
if __name__ == '__main__':

    # Metavars
    dirnm = "DIR"
    fpath = "FILE"

    # Initialize Parser
    parser = argparse.ArgumentParser()
    parser.add_argument('-v', '--verbose', 
            action='store_true')
    parser.add_argument('--version', action='store_true')
    parser.add_argument('-q', '--quiet', 
            action='store_false')
    parser.add_argument('-l', '--log')
    parser.add_argument('-L', '--log-level', default="WARNING")


    # Operations
    opt = parser.add_argument_group("Operations")
    opt.add_argument('-b', '--build', default='pdf',
            metavar="BLD")
    opt.add_argument('-i', '--init', action='store_true')
    opt.add_argument('-u', '--update', action='store_true')
    opt.add_argument('-B', '--book', metavar="BK")

    # Directory Group
    dir_group = parser.add_argument_group("Directory Paths")
    dir_group.add_argument('-s', '--source', default=None,
            metavar=dirnm)
    dir_group.add_argument('-o', '--output', default=None,
            metavar=dirnm)

    args = parser.parse_args()

    main = bacch.Main(args)
    sys.exit(0)

